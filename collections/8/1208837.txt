The pit that Emma, Snow White/Mary Margaret, and Cora were placed in resembles the scene from Lost in which the survivors were also caught and sent down to a pit with another person willing to help, only to later find out the person was a traitor. In this case, the traitor was Cora.