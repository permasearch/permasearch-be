Configuring STP and RSTP on switches in a LAN follows the same principles. STP must be enabled on all switches in the LAN and the version of STP must be chosen. All switches must use the same version of STP. Then the administrator must determine which switch will be the root bridge, and the priority of the other switches in the spanning tree. If the root bridge goes down, the protocol will automatically assign a new root bridge based on the bridge ID. If all switches have the same bridge ID, such as the default ID, and the root bridge goes down, a tie situation arises and the protocol will assign one switch as root bridge based on the switch MAC addresses. Once the switches have been assigned a bridge ID and the protocol has chosen the root bridge switch, the best path to the root bridge is calculated based on port cost, path cost and port priority.[10] Ultimately STP calculates the path cost on the basis of the bandwidth of a link, however links between switches may have the same bandwidth. Administrators can influence the protocol's choice of the preferred path by configuring the port cost, the lower the port cost the more likely it is that the protocol will choose the connected link as root port for the preferred path.[11] Before the bridge ID or the port costs are configured, the network topology should be carefully planned.[12] The selection of how other switches in the topology choose their root port, or the least cost path to the root bridge, can be influenced by the port priority. The highest priority will mean the path will ultimately be less preferred. If all ports of a switch have the same priority, the port with the lowest number is chosen to forward frames.[13]