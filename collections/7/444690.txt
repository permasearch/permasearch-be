The first legs were played on 12 and 13 July, and the second legs were played on 20 July 2017.