Under the 2011 CBA, teams were allowed to "amnesty" one player before the start of any season, as long as his current contract was signed during the 2005Â CBA. The amnestied player was waived from the team; although the player's former team remained obligated to pay his salary under the old contract (with a credit for any salary paid by a future team), that salary was no longer counted for purposes of the cap or luxury tax calculations. This provision could be used only once per team during the duration of the CBA, which was originally a 10-year deal but allowed either side to opt out in 2017.[24] The "amnesty" provision was eliminated in the 2017 CBA, which was agreed to by the owners and players shortly before the opt-out date.