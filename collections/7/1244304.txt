where     Z   {\displaystyle Z}   is a partition function defined as the sum of      e  âˆ’ E ( v , h )     {\displaystyle e^{-E(v,h)}}   over all possible configurations (in other words, just a normalizing constant to ensure the probability distribution sums to 1). Similarly, the (marginal) probability of a visible (input) vector of booleans is the sum over all possible hidden layer configurations:[9]