The first part of the campaign went well, with John outmanoeuvring the forces under the command of Prince Louis and retaking the county of Anjou by the end of June.[191] John besieged the castle of Roche-au-Moine, a key stronghold, forcing Louis to give battle against John's larger army.[192] The local Angevin nobles refused to advance with the king; left at something of a disadvantage, John retreated back to La Rochelle.[192] Shortly afterwards, Philip won the hard-fought battle of Bouvines in the north against Otto and John's other allies, bringing an end to John's hopes of retaking Normandy.[193] A peace agreement was signed in which John returned Anjou to Philip and paid the French king compensation; the truce was intended to last for six years.[193] John arrived back in England in October.[193]