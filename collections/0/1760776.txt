The ethnic distinction between the indigenous Hispano-Roman population and the Visigoths had largely disappeared by this time (the Gothic language lost its last and probably already declining function as a church language when the Visigoths converted to Catholicism in 589).[4] The Visigothic Code (completed in 654) abolished the old tradition of having different laws for Romans and for Visigoths. Most of the Visigothic Kingdom was conquered by Umayyad troops from North Africa in 711 AD, with only the northern reaches of Spain remaining in Christian hands. These gave birth to the medieval Kingdom of Asturias when a local landlord called Pelayo, most likely of Gothic origin, was elected Princeps by the Astures.