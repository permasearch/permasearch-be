Nobuo Uematsu was the chief music composer of the Final Fantasy series until his resignation from Square Enix in November 2004.[46] Other composers include Masashi Hamauzu, Hitoshi Sakimoto[130][131] and Junya Nakano. Uematsu was allowed to create much of the music with little direction from the production staff. Sakaguchi, however, would request pieces to fit specific game scenes including battles and exploring different areas of the game world.[132] Once a game's major scenarios were completed, Uematsu would begin writing the music based on the story, characters, and accompanying artwork. He started with a game's main theme, and developed other pieces to match its style. In creating character themes, Uematsu read the game's scenario to determine the characters' personality. He would also ask the scenario writer for more details to scenes he was unsure about.[133] Technical limitations were prevalent in earlier games; Sakaguchi would sometimes instruct Uematsu to only use specific notes.[132] It was not until Final FantasyÂ IV on the SNES that Uematsu was able to add more subtlety to the music.[114]