As his life drew towards its conclusion, William, like many other European rulers, felt concern over the question of succession to the throne of Spain, which brought with it vast territories in Italy, the Low Countries and the New World. The King of Spain, Charles II, was an invalid with no prospect of having children; amongst his closest relatives were Louis XIV (the King of France) and Leopold I, Holy Roman Emperor. William sought to prevent the Spanish inheritance from going to either monarch, for he feared that such a calamity would upset the balance of power. William and Louis XIV agreed to the First Partition Treaty, which provided for the division of the Spanish Empire: Joseph Ferdinand, Electoral Prince of Bavaria, would obtain Spain, while France and the Holy Roman Emperor would divide the remaining territories between them.[123] Charles II accepted the nomination of Joseph Ferdinand as his heir, and war appeared to be averted.[124]