Christianity had been adopted throughout the Roman Empire in Late Antiquity, but in the 7th to 8th centuries, the Umayyad Caliphate had conquered Syria, Egypt, and North Africa from the predominantly Christian Byzantine Empire, and Hispania from the Visigothic Kingdom.[4] In North Africa, the Umayyad empire eventually collapsed and a number of smaller Muslim kingdoms emerged, such as the Aghlabids, who attacked Italy in the 9th century. Pisa, Genoa, and the Principality of Catalonia began to battle various Muslim kingdoms for control of the Mediterranean Basin, exemplified by the Mahdia campaign of 1087 and battles at Majorca and Sardinia.[5]