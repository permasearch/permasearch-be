Mauricio Rengifo and Andrés Torres produced "Despacito" using Pro Tools and its final mix consisted of 47 tracks.[31] The song begins with a Puerto Rican cuatro played by Christian Nieves, which is accompanied by an acoustic guitar when Luis Fonsi starts performing.[31] Nieves plays salsa-influenced melodies during the chorus and the hook, which contains vocal samples and "old school pop" effects based on American producer Dr. Luke.[31]  Percussion instruments guache and güira were synchronized with a hi hat in order to highlight the track's cumbia influences.[31] The song uses the side-chaining production technique in order to make the chorus "more prominent," silencing the music as the kick drum hits.[32] It also makes heavy use of text painting when the music is slowed down as the word "despacito" (slowly) is performed at the beginning of every chorus.[32] Its percussion consists of guache, cowbell, timbales, güira, and sequenced drum patterns.[31]